<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/assets/css/markdown.css">
    <link rel="stylesheet" href="/assets/css/github-markdown-light.css">
</head>

<body>
    <article class="markdown-body">
<h1 id="notes-before-development" tabindex="-1">Notes Before Development</h1>
<div class="markdown-alert markdown-alert-note"><p class="markdown-alert-title"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p></p>
<p>You only need to read this page if you want to take part in the development of M9A!</p>
<p>Users should refer to the <a href="../manual/newbie.html">M9A User Manual</a>.</p>
<p>For developing MaaFramework or your own projects, please visit <a href="https://github.com/MaaXYZ/MaaFramework" target="_top" rel="noopener noreferrer">MaaXYZ/MaaFramework</a>.</p>
</div>
<h2 id="a-brief-overview-of-the-github-pull-request-process" tabindex="-1">A Brief Overview of the GitHub Pull Request Process</h2>
<h3 id="i-don%E2%80%99t-know-programming-and-just-want-to-make-small-changes-to-json-files%2Fdocuments.-what-should-i-do%3F" tabindex="-1">I don’t know programming and just want to make small changes to JSON files/documents. What should I do?</h3>
<p>Check out the <a href="https://maa.plus/docs/zh-cn/develop/pr-tutorial.html" target="_top" rel="noopener noreferrer">GitHub Pull Request Guide for Beginners</a>.</p>
<h3 id="i-have-programming-experience-but-haven%E2%80%99t-participated-in-related-projects.-what-should-i-do%3F" tabindex="-1">I have programming experience but haven’t participated in related projects. What should I do?</h3>
<ol>
<li>
<p>If you forked the repository a long time ago, go to <code>Settings</code> in your repository, scroll to the bottom, and delete it.</p>
</li>
<li>
<p>Open the <a href="https://github.com/MAA1999/M9A" target="_top" rel="noopener noreferrer">M9A Main Repository</a>, click <code>Fork</code>, and then click <code>Create fork</code>.</p>
</li>
<li>
<p>Clone your own repository locally and pull the submodules:</p>
<pre><code class="language-bash">git <span class="hljs-built_in">clone</span> --recursive https://github.com/&lt;your-username&gt;/M9A.git
</code></pre>
<blockquote>
<p>⚠</p>
<p><strong>Do not forget <code>--recursive</code>! Do not forget <code>--recursive</code>! Do not forget <code>--recursive</code>!</strong></p>
<p>OCR failures are often caused by forgetting to include <code>--recursive</code>.</p>
</blockquote>
</li>
<li>
<p>Download the <a href="https://github.com/MaaXYZ/MaaFramework/releases" target="_top" rel="noopener noreferrer">Release Package</a> of MaaFramework and extract it into the <code>deps</code> folder.</p>
</li>
<li>
<p>Set up the development environment:</p>
<ul>
<li>
<p>Download and install VSCode.</p>
</li>
<li>
<p>Optionally install debugging/development tools:</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/MaaXYZ/MaaDebugger" target="_top" rel="noopener noreferrer">MaaDebugger</a></td>
<td>Standalone debugging tool</td>
</tr>
<tr>
<td><a href="https://marketplace.visualstudio.com/items?itemName=nekosu.maa-support" target="_top" rel="noopener noreferrer">Maa Pipeline Support</a></td>
<td>VSCode plugin for debugging, screenshots, ROI extraction, color picking, etc.</td>
</tr>
<tr>
<td><a href="https://github.com/MaaXYZ/MaaFramework/tree/main/tools/ImageCropper" target="_top" rel="noopener noreferrer">ImageCropper</a></td>
<td>Standalone tool for screenshots and ROI extraction</td>
</tr>
<tr>
<td><a href="https://github.com/SweetSmellFox/MFATools" target="_top" rel="noopener noreferrer">MFA Tools(Not recommended)</a></td>
<td>Standalone tool for screenshots, ROI extraction, and color picking</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<p>Local installation</p>
<ol>
<li>
<p>Install embedded python (only required for Windows)</p>
<pre><code class="language-bash">./tools/ci/setup_embed_python.ps1
</code></pre>
</li>
<li>
<p>Assemble components by running install</p>
<pre><code class="language-bash">python ./tools/install.py
</code></pre>
</li>
</ol>
<p>Then you can run M9A in the install folder.</p>
</li>
<li>
<p>Start developing:</p>
<p>Enjoy coding! Before starting, check out the <a href="#related-reading">Related Reading</a>.</p>
</li>
<li>
<p>Git operations:</p>
<p>The most commonly used basic commands are:</p>
<ul>
<li><code>git add &lt;file&gt;</code>: Add files to the staging area. Use <code>*</code> to represent all files.</li>
<li><code>git commit -m &quot;message&quot;</code>: Commit the staged files to the local repository. Please follow the <a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_top" rel="noopener noreferrer">Conventional Commits Specification</a> for clear commit messages.</li>
<li><code>git pull origin &lt;branch&gt;</code>: Pull updates from the remote repository to the local repository.</li>
<li><code>git push origin &lt;branch&gt;</code>: Push local changes to the remote repository.</li>
</ul>
<blockquote>
<p>⚠</p>
<p>During development, remember to commit changes regularly with a message.
If you’re not familiar with Git, you may need to create and switch to a new branch instead of committing directly to <code>main</code>.
This way, your commits will grow on the new branch without being affected by updates to <code>main</code>.</p>
</blockquote>
<pre><code class="language-bash">git checkout -b &lt;branch-name&gt; <span class="hljs-comment"># Create and switch to a new branch</span>
</code></pre>
<p>After development, push your modified local branch to the remote repository (your fork):</p>
<pre><code class="language-bash">git push origin &lt;branch-name&gt;
</code></pre>
<p>If there are changes in the M9A repository (e.g., commits from others), you may need to sync these changes to your branch:</p>
<ol>
<li>
<p>Link the original M9A repository:</p>
<pre><code class="language-bash">git remote add upstream https://github.com/MAA1999/M9A.git
</code></pre>
</li>
<li>
<p>Fetch updates from the remote repository:</p>
<pre><code class="language-bash">git fetch upstream
</code></pre>
</li>
<li>
<p>Rebase (recommended) or merge the changes:</p>
<pre><code class="language-bash">git rebase upstream/main <span class="hljs-comment"># Rebase for a cleaner commit history. Rebase is recommended over merge when completing your personal PR.</span>
</code></pre>
<p>Or:</p>
<pre><code class="language-bash">git merge upstream/main
</code></pre>
</li>
</ol>
<p>Git reference materials:</p>
<ul>
<li><a href="https://git-scm.com/docs" target="_top" rel="noopener noreferrer">Git Official Documentation</a></li>
<li><a href="https://www.runoob.com/manual/git-guide/" target="_top" rel="noopener noreferrer">Git Simplified Guide</a></li>
<li><a href="https://www.runoob.com/git/git-tutorial.html" target="_top" rel="noopener noreferrer">Git Tutorial | Runoob</a></li>
</ul>
</li>
<li>
<p>Submit a Pull Request:</p>
<p>Your modified code has been committed to your repository. Now, you need to submit a Pull Request to the M9A repository and wait for the maintainers to review it.</p>
<p><a href="https://maa.plus/docs/zh-cn/develop/pr-tutorial.html" target="_top" rel="noopener noreferrer">GitHub Pull Request Reference</a></p>
</li>
</ol>
<h2 id="m9a-formatting-requirements" tabindex="-1">M9A Formatting Requirements</h2>
<p>M9A uses a series of formatting tools to ensure that the code and resource files in the repository are clean and consistent, making them easier to maintain and read.</p>
<p>Please ensure that your code is formatted before submission, or <a href="#pre-commit-hooks">enable Pre-commit Hooks for automatic formatting</a>.</p>
<p>Currently enabled formatting tools:</p>
<table>
<thead>
<tr>
<th>File Type</th>
<th>Formatting Tool</th>
</tr>
</thead>
<tbody>
<tr>
<td>JSON/Yaml</td>
<td><a href="https://prettier.io/" target="_top" rel="noopener noreferrer">prettier</a></td>
</tr>
<tr>
<td>Markdown</td>
<td><a href="https://github.com/DavidAnson/markdownlint-cli2" target="_top" rel="noopener noreferrer">MarkdownLint</a></td>
</tr>
</tbody>
</table>
<h3 id="automatically-format-code-using-pre-commit-hooks" tabindex="-1">Automatically Format Code Using Pre-commit Hooks</h3>
<p><a id="pre-commit-hooks"></a></p>
<ol>
<li>
<p>Ensure that Python and Node environments are installed on your computer.</p>
</li>
<li>
<p>Run the following commands in the project’s root directory:</p>
<pre><code class="language-bash">pip install pre-commit
pre-commit install
</code></pre>
</li>
</ol>
<p>If <code>pre-commit</code> cannot run after installation, ensure that the pip installation path has been added to the PATH environment variable.</p>
<p>From now on, formatting tools will automatically run during each commit to ensure your code meets the formatting standards.</p>
<p>Manually trigger formatting:</p>
<pre><code class="language-bash">pre-commit run --all-files
</code></pre>
<h2 id="related-reading" tabindex="-1">Related Reading</h2>
<ul>
<li><a href="./Project-Structure.html">Project Structure</a></li>
<li><a href="./Writing-interface.json.html">Writing interface.json</a></li>
<li><a href="./Writing-Pipelines.html">Writing Pipelines</a></li>
<li><a href="./Writing-Custom.html">Writing Custom Scripts</a></li>
<li><a href="./Project-Refactoring.html">Project Refactoring</a></li>
<li><a href="./Adapting-Global-Servers.html">Adapting for External Servers</a></li>
<li><a href="./Writing-Documentation.html">Writing Documentation</a></li>
</ul>

    </article>
</body>

</html>